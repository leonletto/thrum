<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Agent Configurations — Thrum</title>
<meta name="description" content="Ready-to-use Claude Code agent definitions for Thrum messaging and Beads task tracking">
<link rel="canonical" href="https://leonletto.github.io/thrum/docs.html#agent-configs.html">
<style>
body{font-family:system-ui,sans-serif;max-width:48rem;margin:2rem auto;padding:0 1.5rem;line-height:1.6;color:#222}
pre{background:#f5f5f5;padding:1rem;overflow-x:auto;border-radius:4px}
code{font-family:ui-monospace,monospace;font-size:0.9em}
table{border-collapse:collapse;width:100%}
th,td{border:1px solid #ddd;padding:0.4rem 0.6rem;text-align:left}
th{background:#f5f5f5}
nav{margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid #ddd;line-height:1.8}
h2{margin-top:2rem}
a{color:#0366d6}
</style>
</head>
<body>
<nav>
<strong><a href="../docs.html">Thrum Docs</a></strong> &rsaquo; Guides &rsaquo; Agent Configurations
<hr>
<strong>Overview</strong>: <a href="philosophy.html">Philosophy</a><br>
<strong>Getting Started</strong>: <a href="quickstart.html">Quickstart Guide</a><br>
  <strong>Recommended Tools</strong>: <a href="guides/recommended-tools.html">Recommended Tools</a> | <a href="guides/beads-setup.html">Beads Setup Guide</a> | <a href="guides/beads-ui-setup.html">Beads UI Setup Guide</a> | <a href="guides/playwright-cli-setup.html">Playwright CLI Setup Guide</a><br>
<strong>Web UI</strong>: <a href="web-ui.html">Web UI</a><br>
<strong>Messaging</strong>: <a href="subscriptions.html">Subscriptions & Notifications</a><br>
<strong>Identity</strong>: <a href="identity.html">Agent Identity & Registration</a><br>
<strong>Guides</strong>: <a href="agent-coordination.html">Agent Coordination</a> | <strong>Agent Configurations</strong> | <a href="multi-agent.html">Multi-Agent Support</a> | <a href="claude-code-plugin.html">Claude Code Plugin</a> | <a href="configuration.html">Configuration</a> | <a href="workflow-templates.html">Workflow Templates</a> | <a href="beads-and-thrum.html">Beads and Thrum</a> | <a href="codex-plugin.html">Codex Plugin</a> | <a href="claude-agent-integration.html">Claude Code Agent Integration</a> | <a href="messaging.html">Messaging</a> | <a href="tailscale-sync.html">Tailscale Sync</a> | <a href="tailscale-security.html">Tailscale Sync Security</a> | <a href="overview.html">Technical Overview</a><br>
<strong>API Reference</strong>: <a href="event-streaming.html">Event Streaming</a> | <a href="inbox-query-methods.html">Inbox Query Methods</a> | <a href="api/authentication.html">Authentication</a> | <a href="api/events.html">Event Reference</a> | <a href="rpc-api.html">RPC API</a> | <a href="api/websocket.html">WebSocket API</a><br>
<strong>Daemon</strong>: <a href="daemon.html">Daemon Architecture</a><br>
<strong>Sync</strong>: <a href="sync.html">Sync Protocol</a><br>
<strong>Development</strong>: <a href="development.html">Development Guide</a> | <a href="security-cicd.html">Security & CI/CD</a><br>
<strong>Architecture</strong>: <a href="architecture.html">Architecture</a><br>
<strong>Context</strong>: <a href="context.html">Agent Context Management</a><br>
<strong>Reference</strong>: <a href="cli.html">CLI Reference</a> | <a href="mcp-server.html">MCP Server</a><br>
<strong>uncategorized</strong>: <a href="role-templates.html">Role-Based Preamble Templates</a><br>
</nav>
<main>
<h2>Agent Configurations</h2>
<blockquote>
<p><strong>Recommended:</strong> Install the <a href="claude-code-plugin.html">Thrum plugin</a> instead of
manual agent definitions. The plugin provides 10 slash commands, automatic
context hooks, and 8 resource docs — all in a single install.</p>
</blockquote>
<p>Claude Code agent definitions teach Claude how to use Thrum effectively. These
<code>.md</code> files with YAML frontmatter ship in <code>toolkit/agents/</code> and load into your
project&#39;s <code>.claude/agents/</code> directory. For Beads task tracking, we recommend
installing the <a href="#beads-plugin-recommended">Beads plugin</a> instead.</p>
<h2>Install the agent configs</h2>
<p>Copy the agent definitions to your project:</p>
<pre><code>mkdir -p .claude/agents
cp toolkit/agents/thrum-agent.md .claude/agents/
cp toolkit/agents/message-listener.md .claude/agents/</code></pre>
<p>Claude Code automatically detects and loads these files when you start a
session.</p>
<h2>Available agents</h2>
<h3>thrum-agent</h3>
<p>Comprehensive guide for Thrum messaging. Teaches Claude how to register agents,
send/receive messages, coordinate with teammates, and choose between MCP tools
and CLI.</p>
<p><strong>Use when:</strong></p>
<ul>
<li>Coordinating multi-agent workflows</li>
<li>Working across worktrees or machines</li>
<li>Requesting code reviews or assigning tasks</li>
<li>Broadcasting status updates</li>
</ul>
<p><strong>Key capabilities:</strong></p>
<ul>
<li>Agent registration with roles and intents</li>
<li>Direct messaging and broadcasts</li>
<li>MCP server integration with async notifications</li>
<li>Session management and heartbeats</li>
</ul>
<h3>Beads Plugin (recommended)</h3>
<p>For Beads issue tracking, <strong>install the Beads plugin</strong> instead of using a local
agent file. The plugin provides richer functionality:</p>
<ul>
<li><strong>30+ slash commands</strong> (<code>/beads:ready</code>, <code>/beads:create</code>, <code>/beads:close</code>,
<code>/beads:sync</code>, etc.)</li>
<li><strong>15+ resource files</strong> covering dependencies, workflows, troubleshooting, and
more</li>
<li><strong>Hooks</strong> that auto-run <code>bd prime</code> on session start for workflow context</li>
<li><strong>Session protocol</strong> with CLI reference and resource links</li>
</ul>
<p>Install the plugin in Claude Code:</p>
<pre><code>/install-plugin beads</code></pre>
<p>Or visit the <a href="https://github.com/steveyegge/beads">Beads project</a> for details.</p>
<h3>message-listener</h3>
<p>Lightweight background listener that watches for incoming Thrum messages so you
don&#39;t have to manually check your inbox. Runs on Haiku for cost efficiency
(~$0.00003/cycle). Uses <code>thrum wait</code> for efficient blocking instead of polling
loops — returns immediately when messages arrive, covers ~90 minutes across 6
cycles.</p>
<p><strong>Use when:</strong></p>
<ul>
<li>You&#39;re running multiple agents and want to know when they message you</li>
<li>Working long sessions where agents on other worktrees may send updates</li>
<li>You want incoming messages surfaced without manually running <code>thrum inbox</code></li>
</ul>
<p><strong>Key capabilities:</strong></p>
<ul>
<li>Blocking wait via <code>thrum wait --timeout 15m</code> (6 cycles max, filters by agent
identity)</li>
<li>Immediate return on message arrival</li>
<li>Time-based filtering with <code>--after</code> flag (negative value = &quot;N ago&quot;; e.g., <code>-1s</code> includes messages sent up to 1 second ago)</li>
<li>CLI-only (no MCP tools — sub-agents can&#39;t access MCP)</li>
</ul>
<h2>Configure the message listener</h2>
<p>The message-listener runs as a background task so your main agent session stays
focused on work while messages are watched for you.</p>
<p>Launch it at session start:</p>
<pre><code>// In Claude Code with Thrum MCP configured
Task({
  subagent_type: &quot;message-listener&quot;,
  model: &quot;haiku&quot;,
  run_in_background: true,
  prompt:
    &quot;Listen for Thrum messages. WAIT_CMD=cd /path/to/repo &amp;&amp; thrum wait --timeout 15m --after -1s --json&quot;,
});</code></pre>
<p><strong>Wait command flags:</strong></p>
<ul>
<li><code>--timeout 15m</code> — Block up to 15 minutes per cycle</li>
<li><code>--after -1s</code> — Include messages sent up to 1 second ago (negative = &quot;N ago&quot;; prevents stale replay)</li>
<li><code>--json</code> — Machine-readable output</li>
</ul>
<p>The listener uses <code>thrum wait</code> which blocks until a message arrives or the
timeout expires — no polling loops needed. Each cycle is a single Bash call.
Re-arm the listener after processing messages to continue listening.</p>
<h2>Customize for your project</h2>
<p>You can edit these agent definitions to match your team&#39;s workflows. Add
project-specific commands, adjust priorities, or include custom context.</p>
<p>For the agent file format, see
<a href="https://docs.anthropic.com/claude-code">Claude Code agent documentation</a>.</p>
<h2>See also</h2>
<ul>
<li><a href="claude-code-plugin.html">Claude Code Plugin</a> — Recommended: plugin with slash
commands and hooks</li>
<li><a href="codex-plugin.html">Codex Plugin</a> — Codex skill bundle for Thrum coordination
and operations</li>
<li><a href="quickstart.html">Quickstart</a> — Get started with Thrum in 5 minutes</li>
<li><a href="agent-coordination.html">Agent Coordination</a> — Multi-agent messaging patterns</li>
<li><a href="../toolkit/templates/">Workflow Templates</a> — Complete planning and
implementation workflows</li>
</ul>

</main>
<script>if(location.search.indexOf('nospa')===-1){location.replace('../docs.html#agent-configs.html')}</script>
</body>
</html>