<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Configuration — Thrum</title>
  <meta name="description" content="Thrum configuration model — config.json schema, runtime tiers, priority chain, and the config show command">
  <!-- Open Graph -->
  <meta property="og:type" content="article">
  <meta property="og:title" content="Configuration — Thrum">
  <meta property="og:description" content="Thrum configuration model — config.json schema, runtime tiers, priority chain, and the config show command">
  <meta property="og:url" content="https://leonletto.github.io/thrum/docs/configuration.html">
  <meta property="og:site_name" content="Thrum">
  <meta property="og:image" content="https://leonletto.github.io/thrum/img/social-card.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Configuration — Thrum">
  <meta name="twitter:description" content="Thrum configuration model — config.json schema, runtime tiers, priority chain, and the config show command">
  <meta name="twitter:image" content="https://leonletto.github.io/thrum/img/social-card.png">
  <!-- Canonical: SPA is the primary URL -->
  <link rel="canonical" href="https://leonletto.github.io/thrum/docs.html#configuration.html">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>&#x26A1;</text></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/theme.css">
  <link rel="stylesheet" href="../css/docs.css">
  <script>
    (function(){var t=localStorage.getItem('thrum-theme');if(t){document.documentElement.setAttribute('data-theme',t)}else if(window.matchMedia&&window.matchMedia('(prefers-color-scheme:light)').matches){document.documentElement.setAttribute('data-theme','light')}else{document.documentElement.setAttribute('data-theme','dark')}})();
  </script>
</head>
<body>
  <header class="site-header">
    <div class="header-inner">
      <nav class="header-nav">
        <a href="../index.html" class="logo">
          <span class="logo-glyph">&gt;_</span>
          <span class="logo-text">thrum</span>
        </a>
        <div class="nav-links">
          <a href="../index.html" class="nav-link">Home</a>
          <a href="../docs.html" class="nav-link nav-link-active">Docs</a>
          <a href="../about.html" class="nav-link">About</a>
          <a href="https://github.com/leonletto/thrum" class="nav-link nav-link-external" target="_blank" rel="noopener">GitHub</a>
        </div>
      </nav>
    </div>
  </header>
  <main class="docs-content" style="max-width:48rem;margin:2rem auto;padding:0 1.5rem">
    <div class="docs-content-inner">
<h1>Configuration</h1>
<p>Thrum uses <code>.thrum/config.json</code> as the single source of truth for user<br>preferences. Everything works with sensible defaults — you only need to<br>edit config.json when you want to change something.</p>
<h2>Config File</h2>
<p>Located at <code>.thrum/config.json</code> in your repository:</p>
<pre><code class="language-json hljs"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;runtime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;primary&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;claude&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;daemon&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;local_only&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;sync_interval&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">60</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;ws_port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;auto&quot;</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span></code></pre>
<p>This file is created during <code>thrum init</code> and can be edited at any time.</p>
<h2>Schema Reference</h2>
<h3><code>runtime.primary</code></h3>
<p>Which AI coding runtime to generate configs for.</p>
<ul>
<li><strong>Type:</strong> string</li>
<li><strong>Default:</strong> auto-detected or <code>&quot;cli-only&quot;</code></li>
<li><strong>Values:</strong> <code>&quot;claude&quot;</code>, <code>&quot;codex&quot;</code>, <code>&quot;cursor&quot;</code>, <code>&quot;gemini&quot;</code>, <code>&quot;auggie&quot;</code>, <code>&quot;cli-only&quot;</code></li>
<li><strong>Set by:</strong> <code>thrum init</code> (interactive prompt or <code>--runtime</code> flag)</li>
</ul>
<h3><code>daemon.local_only</code></h3>
<p>Disable remote git sync (local-only mode).</p>
<ul>
<li><strong>Type:</strong> boolean</li>
<li><strong>Default:</strong> <code>false</code></li>
<li><strong>Override:</strong> <code>THRUM_LOCAL=true</code> environment variable</li>
</ul>
<h3><code>daemon.sync_interval</code></h3>
<p>Seconds between git sync operations.</p>
<ul>
<li><strong>Type:</strong> integer (seconds)</li>
<li><strong>Default:</strong> <code>60</code></li>
<li><strong>Override:</strong> <code>THRUM_SYNC_INTERVAL</code> environment variable</li>
</ul>
<h3><code>daemon.ws_port</code></h3>
<p>WebSocket server port.</p>
<ul>
<li><strong>Type:</strong> string</li>
<li><strong>Default:</strong> <code>&quot;auto&quot;</code> (find free port dynamically)</li>
<li><strong>Values:</strong> <code>&quot;auto&quot;</code> or a specific port number like <code>&quot;9999&quot;</code></li>
<li><strong>Override:</strong> <code>THRUM_WS_PORT</code> environment variable</li>
</ul>
<h2>Priority Chain</h2>
<p>When the same setting can come from multiple sources, this order applies:</p>
<pre><code>CLI flag  &gt;  Environment variable  &gt;  config.json  &gt;  Default</code></pre>
<p>Environment variables are intended for CI/automation overrides, not primary<br>configuration. For day-to-day use, edit <code>config.json</code>.</p>
<h3>Environment Variable Reference</h3>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Overrides</th>
<th>Example</th>
</tr>
</thead>
<tbody><tr>
<td><code>THRUM_LOCAL</code></td>
<td><code>daemon.local_only</code></td>
<td><code>THRUM_LOCAL=true</code></td>
</tr>
<tr>
<td><code>THRUM_SYNC_INTERVAL</code></td>
<td><code>daemon.sync_interval</code></td>
<td><code>THRUM_SYNC_INTERVAL=120</code></td>
</tr>
<tr>
<td><code>THRUM_WS_PORT</code></td>
<td><code>daemon.ws_port</code></td>
<td><code>THRUM_WS_PORT=9999</code></td>
</tr>
<tr>
<td><code>THRUM_NAME</code></td>
<td>Agent identity selection</td>
<td><code>THRUM_NAME=alice</code></td>
</tr>
<tr>
<td><code>THRUM_ROLE</code></td>
<td>Agent role</td>
<td><code>THRUM_ROLE=planner</code></td>
</tr>
<tr>
<td><code>THRUM_MODULE</code></td>
<td>Agent module</td>
<td><code>THRUM_MODULE=backend</code></td>
</tr>
</tbody></table>
<h2>Runtime Tiers</h2>
<p>Thrum supports multiple AI coding runtimes at different levels of maturity:</p>
<table>
<thead>
<tr>
<th>Tier</th>
<th>Runtimes</th>
<th>Support Level</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Tier 1</strong> (Fully Supported)</td>
<td>Claude Code, Augment</td>
<td>Tested in production, MCP native</td>
</tr>
<tr>
<td><strong>Tier 2</strong> (Community Supported)</td>
<td>Cursor, Codex</td>
<td>Templates available, community-maintained</td>
</tr>
<tr>
<td><strong>Tier 3</strong> (Experimental)</td>
<td>Gemini, Amp</td>
<td>Community templates, not guaranteed</td>
</tr>
</tbody></table>
<h3>Runtime Selection</h3>
<p>During <code>thrum init</code>, Thrum detects installed runtimes and prompts you to<br>select one:</p>
<pre><code>Detected AI runtimes:
  1. Claude Code    (found .claude/settings.json)
  2. Augment        (found .augment/)

Which is your primary runtime? [1]:</code></pre>
<p>You can also specify directly: <code>thrum init --runtime claude</code></p>
<p>To change your runtime after init, edit <code>.thrum/config.json</code> directly or<br>run <code>thrum init --runtime &lt;name&gt; --force</code>.</p>
<h2>Viewing Configuration</h2>
<p>Use <code>thrum config show</code> to see the effective configuration and where each<br>value comes from:</p>
<pre><code>Thrum Configuration
  Config file: .thrum/config.json

Runtime
  Primary:     claude (from config.json)
  Detected:    claude, augment

Daemon
  Local-only:    true (config.json)
  Sync interval: 60s (default)
  WS port:       9999 (active)
  Status:        running (PID 7718)
  Socket:        .thrum/var/thrum.sock

Identity
  Agent:       claude_planner
  Role:        planner
  Module:      coordination

Overrides (environment)
  THRUM_NAME=claude_planner</code></pre>
<p>Use <code>thrum config show --json</code> for machine-readable output.</p>
<h2>What&#39;s NOT in config.json</h2>
<p>These remain separate for good reasons:</p>
<ul>
<li><strong>Identity files</strong> (<code>.thrum/identities/*.json</code>) — per-agent config, one<br>file per registered agent</li>
<li><strong>Context files</strong> (<code>.thrum/context/*.md</code>) — volatile session state</li>
<li><strong>Runtime templates</strong> — generated config files for your AI runtime<br>(CLAUDE.md, .cursorrules, etc.)</li>
</ul>

    </div>
    <p style="margin-top:2rem"><a href="../docs.html#configuration.html">&larr; View in documentation</a></p>
  </main>
  <script>
    // Redirect browsers to the SPA for full navigation experience.
    // Crawlers (which don't execute JS) will index the static content above.
    if (window.location.search.indexOf('nospa') === -1) {
      window.location.replace('../docs.html#configuration.html');
    }
  </script>
</body>
</html>